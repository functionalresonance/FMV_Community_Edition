@page "/authentication/{action}"
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@inject NavigationManager Navigation

<RemoteAuthenticatorView Action="@Action" />

@code{
    [Parameter] public string? Action { get; set; }

    protected override void OnAfterRender(bool firstRender)
    {
        if (!firstRender)
        {
            if (Action == "login-failed" || Action == "logout-callback" || Action == "logout-failed")
            {
                Navigation.NavigateTo($"./");
            }
        }
    }
}
